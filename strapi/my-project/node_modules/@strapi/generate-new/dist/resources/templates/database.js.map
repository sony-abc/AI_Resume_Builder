{"version":3,"file":"database.js","sources":["../../../src/resources/templates/database.ts"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport _ from 'lodash';\nimport type { Scope } from '../../types';\n\nexport const createDatabaseConfig = ({ useTypescript }: { useTypescript: boolean }) => {\n  const language = useTypescript ? 'ts' : 'js';\n  const tmpl = fs.readFileSync(\n    path.join(__dirname, 'database-templates', language, `database.template`)\n  );\n  const compile = _.template(tmpl.toString());\n\n  return compile();\n};\n\nexport const generateDbEnvVariables = (scope: Scope) => {\n  const tmpl = fs.readFileSync(\n    path.join(__dirname, 'database-templates', `${scope.database.client}.template`)\n  );\n  const compile = _.template(tmpl.toString());\n\n  return compile({\n    client: scope.database.client,\n    connection: {\n      ...scope.database.connection,\n      ssl: scope.database.connection?.ssl || false,\n    },\n  });\n};\n"],"names":["fs","path","_"],"mappings":";;;;;;;;;AAKO,MAAM,uBAAuB,CAAC,EAAE,oBAAgD;AAC/E,QAAA,WAAW,gBAAgB,OAAO;AACxC,QAAM,OAAOA,YAAAA,QAAG;AAAA,IACdC,cAAK,QAAA,KAAK,WAAW,sBAAsB,UAAU,mBAAmB;AAAA,EAAA;AAE1E,QAAM,UAAUC,WAAAA,QAAE,SAAS,KAAK,SAAU,CAAA;AAE1C,SAAO,QAAQ;AACjB;AAEa,MAAA,yBAAyB,CAAC,UAAiB;AACtD,QAAM,OAAOF,YAAAA,QAAG;AAAA,IACdC,sBAAK,KAAK,WAAW,sBAAsB,GAAG,MAAM,SAAS,MAAM,WAAW;AAAA,EAAA;AAEhF,QAAM,UAAUC,WAAAA,QAAE,SAAS,KAAK,SAAU,CAAA;AAE1C,SAAO,QAAQ;AAAA,IACb,QAAQ,MAAM,SAAS;AAAA,IACvB,YAAY;AAAA,MACV,GAAG,MAAM,SAAS;AAAA,MAClB,KAAK,MAAM,SAAS,YAAY,OAAO;AAAA,IACzC;AAAA,EAAA,CACD;AACH;;;"}